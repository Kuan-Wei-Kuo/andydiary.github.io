{"componentChunkName":"component---src-templates-blog-post-js","path":"/前後端分離攜帶 Cookie 的跨域問題/","result":{"data":{"site":{"siteMetadata":{"title":"Andy Diary"}},"markdownRemark":{"id":"6d4c43db-6bc1-584e-a535-48e30600edab","excerpt":"Introduction 近期在某專案遇見前後端分離攜帶 Cookie 的跨域問題，剛好有一些小心得想要分享一下。 Solution 在前端中我們很常使用 Axios 來請求 API，在默認的情況下 Axios 是不會攜帶 Cookie 的，我們要將 Axios 中的 withCredentials 設為 True…","html":"<h2>Introduction</h2>\n<p>近期在某專案遇見前後端分離攜帶 Cookie 的跨域問題，剛好有一些小心得想要分享一下。</p>\n<h2>Solution</h2>\n<p>在前端中我們很常使用 Axios 來請求 API，在默認的情況下 Axios 是不會攜帶 Cookie 的，我們要將 Axios 中的 withCredentials 設為 True 才可以正常攜帶 Cookie。</p>\n<p>但以為這樣就好了嗎? 不，如果要攜帶跨域 Cookie 這樣還不夠，在 Chrome 的規則下，我們需要讓後端配合設定以下 Header</p>\n<ul>\n<li>Access-Control-Allow-Origin: 設定允許跨域的 Domain</li>\n<li>Access-Control-Allow-Credentials: 設定為 True</li>\n<li>Cookie: SameSite 為 None、Secure 為 True</li>\n</ul>\n<p>我們需要滿足以上條件，在 Chrome 的政策下才可以正常地攜帶跨域 Cookie。</p>\n<h2>Review</h2>\n<p>現代瀏覽器越來越多安全政策，拿著香蕉因應政策修改著萬惡的系統，看起來是我們不變的使命。</p>","frontmatter":{"title":"前後端分離攜帶 Cookie 的跨域問題","date":"2023-08-24","description":null}},"previous":{"fields":{"slug":"/redis/reset-counter-everyday/"},"frontmatter":{"title":"使用 Redis 將計數每天重置"}},"next":{"fields":{"slug":"/SpringBootTest 如何跳過 @Configuration/"},"frontmatter":{"title":"SpringBootTest 如何跳過 @Configuration"}}},"pageContext":{"id":"6d4c43db-6bc1-584e-a535-48e30600edab","previousPostId":"b79f2a8d-c5b8-5ff2-83ba-3c93e31aa09b","nextPostId":"033928fa-b884-5291-9f3d-914c35f5d226"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}